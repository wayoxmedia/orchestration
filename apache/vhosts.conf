# --- Common Adjustments ---
ServerName localhost
UseCanonicalName Off

# Desaconsejar listar directorios por seguridad
<Directory />
    Options -Indexes
    AllowOverride None
    Require all denied
</Directory>

# --- VirtualHost: mystorepanel (Laravel Admin) ---
<VirtualHost *:80>
    ServerName mystorepanel.test
    DocumentRoot /var/www/mystorepanel/public

    # Logs por sitio (se escriben dentro del proyecto)
    ErrorLog  /var/www/mystorepanel/storage/logs/mystorepanel_error.log
    CustomLog /var/www/mystorepanel/storage/logs/mystorepanel_access.log combined
    # XDEBUG por sitio
    php_admin_value xdebug.log "/var/www/mystorepanel/storage/logs/xdebug.log"

    <Directory /var/www/mystorepanel/public>
        AllowOverride All
        Require all granted
        Options -Indexes +FollowSymLinks
        DirectoryIndex index.php
    </Directory>

    <IfModule mod_headers.c>
        Header always set X-Content-Type-Options "nosniff"
        Header always set X-Frame-Options "SAMEORIGIN"
        Header always set X-XSS-Protection "1; mode=block"
    </IfModule>
</VirtualHost>

# --- VirtualHost: web-templates (Laravel) ---
<VirtualHost *:80>
    ServerName web-templates.test
    DocumentRoot /var/www/web-templates/public

    ErrorLog  /var/www/web-templates/storage/logs/web-templates_error.log
    CustomLog /var/www/web-templates/storage/logs/web-templates_access.log combined
    php_admin_value xdebug.log "/var/www/web-templates/storage/logs/xdebug.log"

    <Directory /var/www/web-templates/public>
        AllowOverride All
        Require all granted
        Options -Indexes +FollowSymLinks
        DirectoryIndex index.php index.html
    </Directory>
</VirtualHost>

# --- VirtualHost: template1 (HTML/JS/PHP plano) ---
<VirtualHost *:80>
    ServerName template1.test
    DocumentRoot /var/www/template1/html

    ErrorLog  /var/www/template1/logs/template1_error.log
    CustomLog /var/www/template1/logs/template1_access.log combined
    php_admin_value xdebug.log "/var/www/template1/logs/xdebug.log"

    <Directory /var/www/template1/html>
        AllowOverride All
        Require all granted
        Options -Indexes +FollowSymLinks
        DirectoryIndex index.php index.html
    </Directory>
</VirtualHost>

# --- VirtualHost: template2 ---
<VirtualHost *:80>
    ServerName template2.test
    DocumentRoot /var/www/template2/html

    ErrorLog  /var/www/template2/logs/template2_error.log
    CustomLog /var/www/template2/logs/template2_access.log combined
    php_admin_value xdebug.log "/var/www/template2/logs/xdebug.log"

    <Directory /var/www/template2/html>
        AllowOverride All
        Require all granted
        Options -Indexes +FollowSymLinks
        DirectoryIndex index.php index.html
    </Directory>
</VirtualHost>

# --- VirtualHost: template3 ---
<VirtualHost *:80>
    ServerName template3.test
    DocumentRoot /var/www/template3/html

    ErrorLog  /var/www/template3/logs/template3_error.log
    CustomLog /var/www/template3/logs/template3_access.log combined
    php_admin_value xdebug.log "/var/www/template3/logs/xdebug.log"

    <Directory /var/www/template3/html>
        AllowOverride All
        Require all granted
        Options -Indexes +FollowSymLinks
        DirectoryIndex index.php index.html
    </Directory>
</VirtualHost>

# --- VirtualHost: template4 ---
<VirtualHost *:80>
    ServerName template4.test
    DocumentRoot /var/www/template4/html

    ErrorLog  /var/www/template4/logs/template4_error.log
    CustomLog /var/www/template4/logs/template4_access.log combined
    php_admin_value xdebug.log "/var/www/template4/logs/xdebug.log"

    <Directory /var/www/template4/html>
        AllowOverride All
        Require all granted
        Options -Indexes +FollowSymLinks
        DirectoryIndex index.php index.html
    </Directory>
</VirtualHost>

# --- VirtualHost: template5 ---
<VirtualHost *:80>
    ServerName template5.test
    DocumentRoot /var/www/template5/html

    ErrorLog  /var/www/template5/logs/template5_error.log
    CustomLog /var/www/template5/logs/template5_access.log combined
    php_admin_value xdebug.log "/var/www/template5/logs/xdebug.log"

    <Directory /var/www/template5/html>
        AllowOverride All
        Require all granted
        Options -Indexes +FollowSymLinks
        DirectoryIndex index.php index.html
    </Directory>
</VirtualHost>

# --- VirtualHost: template6 ---
<VirtualHost *:80>
    ServerName template6.test
    DocumentRoot /var/www/template6/html

    ErrorLog  /var/www/template6/logs/template6_error.log
    CustomLog /var/www/template6/logs/template6_access.log combined
    php_admin_value xdebug.log "/var/www/template6/logs/xdebug.log"

    <Directory /var/www/template6/html>
        AllowOverride All
        Require all granted
        Options -Indexes +FollowSymLinks
        DirectoryIndex index.php index.html
    </Directory>
</VirtualHost>

# --- VirtualHost: template7 ---
<VirtualHost *:80>
    ServerName template7.test
    DocumentRoot /var/www/template7/html

    ErrorLog  /var/www/template7/logs/template7_error.log
    CustomLog /var/www/template7/logs/template7_access.log combined
    php_admin_value xdebug.log "/var/www/template7/logs/xdebug.log"

    <Directory /var/www/template7/html>
        AllowOverride All
        Require all granted
        Options -Indexes +FollowSymLinks
        DirectoryIndex index.php index.html
    </Directory>
</VirtualHost>

# --- Default/catch-all ---
<VirtualHost *:80>
    ServerName localhost
    DocumentRoot /var/www/mystorepanel/public

    ErrorLog  /var/www/mystorepanel/storage/logs/default_error.log
    CustomLog /var/www/mystorepanel/storage/logs/default_access.log combined
    php_admin_value xdebug.log "/var/www/mystorepanel/storage/logs/xdebug-default.log"

    <Directory /var/www/mystorepanel/public>
        AllowOverride All
        Require all granted
        Options -Indexes +FollowSymLinks
        DirectoryIndex index.php index.html
    </Directory>
</VirtualHost>
