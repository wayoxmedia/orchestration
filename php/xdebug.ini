; --- Xdebug 3 base config ---
zend_extension=xdebug

; Modo debug interactivo + helpers de desarrollo (var_dump mejorado, etc.)
xdebug.mode=debug,develop,coverage

; Activa Xdebug solo con trigger (evita frenar todo)
; Usa ?XDEBUG_TRIGGER=1 o cookie/extension del navegador
xdebug.start_with_request=yes

; Dónde está escuchando tu IDE (host)
; En macOS/Windows funciona host.docker.internal; en Linux lo forzamos con extra_hosts
xdebug.client_host=host.docker.internal
xdebug.discover_client_host=1

; Puerto para Xdebug 3
xdebug.client_port=59895

; Opcional: IDE key (útil si usas la extensión del navegador)
; PHPStorm: PHPSTORM | VSCode: VSCODE
xdebug.idekey=PHPSTORM
;xdebug.idekey=VSCODE

; Verbosidad del log (0 = off). Súbelo a 7 solo para diagnosticar.
xdebug.log_level=${XDEBUG_LOG_LEVEL}
; xdebug.log=/tmp/xdebug.log

; Mejor traza de pila en errores (útil en dev)
xdebug.collect_params=1
xdebug.collect_return=0

; Tiempo máximo esperando conexión del IDE (ms)
xdebug.connect_timeout_ms=200

; Show local vars en stack traces
xdebug.cli_color=1
